% Main file for "Elder, the Arcane Realization"
% A comprehensive mathematical text with custom styling and advanced typesetting

\documentclass[11pt,twoside]{book}

% Basic packages for styling and math
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{enumitem}
\usepackage{tikz}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{multicol}
\usepackage{caption}
\usepackage[]{geometry}

% Bibliography setup
\usepackage[style=alphabetic,backend=biber]{biblatex}
\addbibresource{bibliography.bib}

% Define colors
\definecolor{DarkSkyBlue}{RGB}{0, 51, 153}
\definecolor{TheoremBlue}{RGB}{230, 236, 245}
\definecolor{LemmaGreen}{RGB}{230, 245, 230}
\definecolor{PropositionYellow}{RGB}{245, 245, 230}
\definecolor{DefinitionPurple}{RGB}{240, 230, 245}

% Include math macros
\input{macros/math_macros.tex}

% Set up fancy chapter headings
\titleformat{\chapter}[display]
    {\normalfont\huge\bfseries}
    {\filleft\begin{minipage}{5cm}
    \flushright{\fontsize{80}{80}\color{DarkSkyBlue}\selectfont\thechapter}
    \end{minipage}}
    {20pt}
    {\titlerule\vspace{10pt}\filright}
    [\vspace{10pt}]

% Set up theorem environments
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{example}{Example}[chapter]
\newtheorem{remark}{Remark}[chapter]

% Customize page layout
\geometry{
    paper=a4paper,
    inner=2.5cm,
    outer=2.5cm,
    top=2.5cm,
    bottom=2.5cm,
    headsep=1cm,
    footskip=1cm,
    headheight=14pt
}

% Set up headers and footers
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[RE]{\textit{\leftmark}}
\fancyhead[LO]{\textit{\rightmark}}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}

% Begin the document
\begin{document}

% Front matter
\frontmatter

% Title page
\begin{titlepage}
    \centering
    \vspace*{2cm}
    {\Huge\bfseries \textcolor{DarkSkyBlue}{Elder}\textrm{\textcolor{black}{, the Arcane Realization}}\par}
    \vspace{2cm}
    {\Large The arcane singularity, benchmarked and mathematically-proven\par}
    \vspace{4cm}
    {\Large\itshape Yanal Luay Kashou\par}
    \vfill
    {\large \today\par}
\end{titlepage}

% Table of contents
\tableofcontents

% Main matter
\mainmatter

% Nomenclature section
\input{nomenclature.tex}

\input{chapters/chapter1.tex}

\input{chapters/chapter2.tex}

\input{chapters/chapter3.tex}

\input{chapters/chapter_erudite_loss.tex}

\input{chapters/chapter_mentor_loss.tex}

\backmatter
\printbibliography[title={References}]

\end{document}
