% Main file for "Elder, the Arcane Realization"
% A comprehensive mathematical text with custom styling and advanced typesetting

\documentclass[11pt,twoside]{book}

% Basic packages for styling and math
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{newunicodechar}
\newunicodechar{≈}{\ensuremath{\approx}}
\newunicodechar{π}{\ensuremath{\pi}}
\newunicodechar{ρ}{\ensuremath{\rho}}
\newunicodechar{φ}{\ensuremath{\phi}}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{enumitem}
\usepackage{tikz}
\usetikzlibrary{decorations.pathmorphing, decorations.markings, decorations.pathreplacing, calc}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{multicol}
\usepackage{caption}
\usepackage[]{geometry}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{mathtools}
\usepackage{tcolorbox}
\usepackage{listings}
\usepackage{abstract}

% Custom abstract styling
\newenvironment{abstract}{%
  \small
  \begin{center}%
    \bfseries Abstract\vspace{-.5em}\vspace{0pt}%
  \end{center}%
  \list{}{%
    \setlength{\leftmargin}{1.5cm}%
    \setlength{\rightmargin}{\leftmargin}%
  }%
  \item\relax\itshape}
  {\endlist}

% Complex number command
\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}

% Bibliography setup
\usepackage[style=alphabetic,backend=biber]{biblatex}
\addbibresource{bibliography.bib}

% Define colors
\definecolor{DarkSkyBlue}{RGB}{0, 51, 153}
\definecolor{TheoremBlue}{RGB}{230, 236, 245}
\definecolor{LemmaGreen}{RGB}{230, 245, 230}
\definecolor{PropositionYellow}{RGB}{245, 245, 230}
\definecolor{DefinitionPurple}{RGB}{240, 230, 245}
\definecolor{LightGray}{RGB}{240, 240, 240}
\definecolor{DarkGray}{RGB}{80, 80, 80}
\definecolor{CodeBackground}{RGB}{245, 245, 250}

% Include math macros
\input{macros/math_macros.tex}

% Define the unit counter (between part and chapter)
\newcounter{unit}
\renewcommand{\theunit}{\Roman{unit}}
\newcommand{\unitname}{Unit}

% Define the unit command
\newcommand{\unit}[1]{%
    \refstepcounter{unit}%
    \cleardoublepage%
    \thispagestyle{empty}%
    \begin{center}%
    \normalfont\Large\bfseries\color{DarkSkyBlue}%
    \vspace*{40pt}%
    {\fontsize{36}{40}\selectfont \unitname~\theunit}\\[20pt]%
    {\fontsize{24}{30}\selectfont #1}\\[30pt]%
    {\large \textit{Elder, the Arcane Realization}}\\[10pt]%
    {\normalsize E. Arcantis \textbullet{} J. Mentor \textbullet{} S. Erudite}\\[15pt]%
    \rule{0.6\textwidth}{1pt}\\[50pt]%
    \includegraphics[width=2.5cm]{figures/elder_symbol.pdf}\\[20pt]%
    \vfill%
    {\normalsize\rmfamily\itshape Heliomorphic Press, 2025}\\[10pt]%
    \end{center}%
    \phantomsection%
    \addcontentsline{toc}{part}{\unitname~\theunit: #1}%
    \clearpage%
}


% Add unit to the TOC format
\makeatletter
\newcommand*\l@unit{\@dottedtocline{0}{0em}{2.5em}}
\makeatother

% Set up fancy chapter headings
\titleformat{\chapter}[display]
    {\normalfont\huge\bfseries}
    {\filleft\begin{minipage}{5cm}
    \flushright{\fontsize{80}{80}\color{DarkSkyBlue}\selectfont\thechapter}
    \end{minipage}}
    {20pt}
    {\titlerule\vspace{10pt}\filright}
    [\vspace{10pt}]

% Set up theorem environments
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{example}{Example}[chapter]
\newtheorem{remark}{Remark}[chapter]
\newtheorem{observation}{Observation}[chapter]

% Customize page layout
\geometry{
    paper=a4paper,
    inner=2.5cm,
    outer=2.5cm,
    top=2.5cm,
    bottom=2.5cm,
    headsep=1cm,
    footskip=1cm,
    headheight=25.2pt
}

% Set up headers and footers
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[RE]{\textit{\leftmark}}
\fancyhead[LO]{\textit{\rightmark}}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}

% Begin the document
\begin{document}

% Front matter
\frontmatter

% Title page
\begin{titlepage}
    \centering
    \vspace*{2cm}
    {\Huge\bfseries \textcolor{DarkSkyBlue}{Elder }\textrm{\textcolor{black}{Theory}}\par}
    \vspace{2cm}
    {\Large The \textcolor{DarkSkyBlue}{\textbf{arcane}} singularity, benchmarked and mathematically-proven.\par}
    \vspace{4cm}
    {\Large\itshape Yanal Luay Kashou\par}
    \vfill
    {\large \today\par}
\end{titlepage}

% Table of contents
\tableofcontents

% Main matter
\mainmatter

% Comprehensive notation guide
\input{chapters/part1_theory/core_concepts/consolidated_notation.tex}

% Glossary of terms
\input{glossary.tex}

% Section roadmaps
\input{chapters/part1_theory/core_concepts/section_roadmaps.tex}

\part{Theory}

%%% I. FOUNDATION LAYER %%%
\unit{Foundation Layer}
% Starting with a concrete example followed by the abstract mathematical foundation and vocabulary
\input{chapters/part1_theory/core_concepts/concrete_example.tex} % Concrete example of Elder Theory in practice
\input{chapters/part1_theory/core_concepts/introduction_to_elder_spaces.tex} % Introduction to Elder Spaces
\input{chapters/part1_theory/core_concepts/introduction_to_elder_topology.tex} % Introduction to Elder Topology (Realization Mapping)

%%% II. HELIOMORPHIC FUNCTIONS AND GEOMETRY %%%
\unit{Heliomorphic Functions and Geometry}
% Theoretical foundation and mathematical basis
\input{chapters/part1_theory/functions_and_geometry/heliomorphic_functions.tex} % Formal definition of heliomorphic functions
\input{chapters/part1_theory/functions_and_geometry/elder_manifold.tex} % Elder Manifold - theoretical foundation
\input{chapters/part1_theory/functions_and_geometry/heliomorphic_geometry.tex} % Mathematical basis with heliomorphic geometry
\input{chapters/part1_theory/functions_and_geometry/heliomorphism.tex} % Heliomorphism as applied to learning systems
\input{chapters/part1_theory/functions_and_geometry/elder_set_theory.tex} % Set-theoretic foundations of Elder Theory
\input{chapters/part1_theory/functions_and_geometry/gradient_topology.tex} % Gradient Topology in the Elder Heliosystem

%%% III. ELDER HELIOSYSTEM ARCHITECTURE %%%
\unit{Elder Heliosystem Architecture}
% System components and their interactions
\input{chapters/part1_theory/functions_and_geometry/hierarchical_knowledge_architecture.tex} % Complete System Architecture with Elder-Mentor-Erudite Overview
\input{chapters/part1_theory/mechanics_and_dynamics/elder_orbital_mechanics.tex} % Elder Orbital Mechanics with hierarchical momentum transfer
\input{chapters/part1_theory/mechanics_and_dynamics/gravitational_field_dynamics.tex} % Reframing the system in terms of gravitational fields rather than shells
\input{chapters/part1_theory/mechanics_and_dynamics/rotational_information_dynamics.tex} % Detailed mathematical formalism on rotational dynamics and "learn by teaching"
\input{chapters/part1_theory/mechanics_and_dynamics/elder_orbital_thermodynamics.tex} % Orbital thermodynamics and reverse diffusion learning

%%% IV. LEARNING DYNAMICS AND ALGORITHMS %%%
\unit{Learning Dynamics and Algorithms}
% The learning mechanisms and algorithms
\input{chapters/part1_theory/loss_functions/elder_loss.tex} % Elder Loss - Universal Principles
\input{chapters/part1_theory/loss_functions/mentor_loss.tex} % Mentor Loss - Meta-Knowledge
\input{chapters/part1_theory/loss_functions/erudite_loss.tex} % Erudite Loss - Domain-specific Knowledge
\input{chapters/part1_theory/loss_functions/elder_activation_functions.tex} % Elder Heliosystem Activation Functions
\input{chapters/part1_theory/mechanics_and_dynamics/elder_training_loop.tex} % Elder Training Loop - from Elder Manifold to Magefiles
\input{chapters/part1_theory/mechanics_and_dynamics/elder_resonance_algorithm.tex} % Elder Heliosystem Resonance Algorithm

%%% V. THEORETICAL UNIFICATION AND CLOSURE %%%
\unit{Theoretical Unification and Closure}
% Bringing the theory to completion through unification
\input{chapters/part1_theory/applications/model_unification.tex} % Unification of heliomorphic and orbital mechanics models
\input{chapters/part1_theory/mechanics_and_dynamics/elder_heliosystem_unified.tex} % Comprehensive overview of the Elder Heliosystem as a closed system

%%% VI. MEMORY AND EFFICIENCY PROPERTIES %%%
\unit{Memory and Efficiency Properties}
% Mathematical properties and efficiency claims
\input{chapters/part1_theory/memory_and_efficiency/infinite_memory_dynamics.tex} % Mathematical foundation for unbounded memory and continuous audio generation
\input{chapters/part1_theory/memory_and_efficiency/memory_complexity_proofs.tex} % Rigorous mathematical proofs of memory and computational complexity claims
\input{chapters/part1_theory/memory_and_efficiency/table_memory_efficiency_comparison.tex} % Comparative analysis of memory efficiency against modern transformer models
\input{chapters/part1_theory/memory_and_efficiency/elder_memory_footprint.tex} % Concrete memory footprint calculations with practical implementation details
\input{chapters/part1_theory/memory_and_efficiency/elder_memory_map.tex} % Detailed memory map of the Elder Heliosystem
\input{chapters/part1_theory/memory_and_efficiency/elder_gradient_tape.tex} % Inherent gradient tape properties of the Elder Heliosystem
\input{chapters/part1_theory/mechanics_and_dynamics/entity_state_examples.tex} % Concrete examples of entity state data structures and values

%%% VII. PRACTICAL APPLICATIONS %%%
\unit{Practical Applications}
% Applications across various domains
\input{chapters/part1_theory/applications/audio_understanding.tex} % Audio Understanding at the Mentor Level
\input{chapters/part1_theory/applications/multimodal_audio_generation.tex} % Multimodal Enriched Audio Generation
\input{chapters/part1_theory/applications/additional_domain_applications.tex} % Applications beyond audio processin

\part{Experiment}

%%% UNIT I. EXPERIMENTAL SETUP AND METHODOLOGY %%%
\unit{Experimental Setup and Methodology}
\input{chapters/part2_experiment/experiment.tex}

%%% UNIT II. PERFORMANCE EVALUATION %%%
\unit{Performance Evaluation}
\input{chapters/part2_experiment/benchmarks.tex}

\backmatter
\printbibliography[title={References}]

\end{document}
